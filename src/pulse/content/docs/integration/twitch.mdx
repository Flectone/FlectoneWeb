---
title: Твич
description: Интеграция с Twitch
authors:
  - TheFaser
---
Позволяет:

- отправлять сообщения из Minecraft в Twitch
- отправлять сообщения из Twitch в Minecraft
- подписываться на начало трансляции Twitch

![twitch message](/pulse/twitchmessage.png)
![minecraft message](/pulse/twitchminecraftmessage.png)

<include>../../../parts/messageTag.mdx</include>

# <include>../../../parts/words.mdx#localization</include> 
<span><include>../../../parts/words.mdx#path</include> `localizations → язык.yml → integration.twitch`</span>



<Tabs items={['ru_ru', 'en_us']}>
  <Tab value="ru_ru"><include>../../../files/localizations/ru_ru.yml#twitch</include></Tab>
  <Tab value="en_us"><include>../../../files/localizations/en_us.yml#twitch</include></Tab>
</Tabs>

### `null_player`

Сообщение, если введённый игрок через `custom_command` не найден

### `format_reply`

Формат сообщения для тега `<reply>`, когда сообщение является ответом на другое

### `custom_command`

Список кастомных комманд интеграции, где ключом является название комманды, а значением её формат сообщения

<Callout type="info" title="Пример">

```yaml
custom_command:
  tps:
    content: "<tps>"
```

Комманда, чтобы получить значение `tps` на сервере. **Не забудь сделать её в inegration.yml**

</Callout>

### `Плейсхолдеры`

Ты можешь использовать все плейсхолдеры, которые используются в начальном сообщении для майнкрафта
<Callout type="info" title="НАПример ДЛЯ СООБЩЕНИЯ О БЛОКИРОВКЕ">
Там есть плейсхолдер `<reason>`, значит я могу использовать `<reason>` внутри твич сообщений
</Callout>

Также есть плейсхолдеры, которые ТОЧНО будут заменяться в любом сообщении
- `<final_message>` сообщение, отправленное в майнкрафт
- `<final_clear_message>` сообщение, отправленное в майнкрафт без unicode-смайлов
- `<player>` ник игрока, который отправил сообщение
- `<message>` сырое сообщение, которое написал игрок
- `<plain_message>` отформатированное сообщение, которое написал игрок
- `<reply>` отформатированное сообщение-ответ, оно будет пустым, если основное сообщение не ответ
- Очевидно, что все плейсхолдеры из `PlaceholderAPI` и `FlectonePulse` тоже будут работать

<br/>
У сообщения, которое будет отправлено из Твича в Майнкрафт есть свои плейсхолдеры:

| Плейсхолдер    | Что возвращает                                            |
|----------------|-----------------------------------------------------------|
| `<name>`       | Ник пользователя на Twitch                              |

### `message_channel`

Список сообщений с форматом итогового сообщения

<Callout type="info" title="ЕСЛИ ХОЧЕШЬ ДОБАВИТЬ ДРУГОЕ СООБЩЕНИЕ:">
1. Возьми название из списка `типы сообщений`
2. Вставь в `message_channel`
```yaml
название_сообщения: "<final_message>"
```
</Callout>


# <include>../../../parts/words.mdx#setting</include>
<span><include>../../../parts/words.mdx#path</include> `integration.yml → twitch`</span>


<include>../../../files/integration.yml#twitch</include>

<include>../../../parts/enable.mdx</include>

<Callout type="warn" title="Предупреждение">
- Перед включением, вставь **токен** и **ID клиента** Twitch
- После включения, **ЖЕЛАТЕЛЬНО** перезагрузить сервер, иначе плагин может вызвать зависание
</Callout>

### `client_id`

[Идентификатор](https://twitchtokengenerator.com/) пользователя. Можно использовать environment variables, например `${VALUE}`
![client id](/pulse/twitchclientid.png)

### `token`

[Токен](https://twitchtokengenerator.com/) пользователя для подключения. Можно использовать environment variables, например `${VALUE}`
![token](/pulse/twitchtoken.png)

### `custom_command`

Список кастомных комманд интеграции, ключом является название комманды и оно может быть любым. Комманды могут быть ТОЛЬКО информационными, на сервере они ничего не выполняют и не будут выполнять

| Параметр      | Пояснение                                                                      |
|---------------|--------------------------------------------------------------------------------|
| `need_player` | Проверять ли первый аргумент комманды на имя игрока, например `!ping TheFaser` |
| `aliases`     | Список псевдонимов для использования комманды                                  |


<Callout type="info" title="Пример">

```yaml
custom_command:
  tps:
    need_player: false
    aliases:
      - "!tps"
      - "!tickpersecond"
```

Комманда, чтобы получить значение `tps` на сервере с помощью `!tps` или `!tickpersecond`. **Не забудь сделать сообщение в локализации**

</Callout>

### `message_channel`

Список типов сообщений и названий каналов на Twitch

<Callout type="info" title="Например я хочу, чтобы из Minecraft отправлялось сообщение комманды `/ban` в Twitch">
1. Копирую названия каналов Twitch, в которые нужно отправить сообщение (`faseri4ka`)
2. Прописываю:
```yaml
message_channel:
  COMMAND_BAN:
    - "faseri4ka"
```

Каналов может быть сколько угодно, главное, чтобы к ним был доступ у подключенного аккаунта. Локализацию можно не настраивать, по умолчанию сообщение будет отправляться с форматом `<final_message>`
</Callout>

### `follow_channel`

Список, где ключом является имя канала, а значением список комманд, которые выполняться при старте трансляции

<Callout type="info" title="Например я хочу отслеживать начало стрима у `faseri4ka` и писать `stream start https://twitch.tv/faseri4ka`">
1. Копирую названия канала `faseri4ka`
2. Прописываю:
```yaml
follow_channel:
  faseri4ka:
    - "stream start https://twitch.tv/faseri4ka"
```

- Каналов может быть до 10 одновременно, главное, чтобы к ним был доступ у подключенного аккаунта
- Комманд, при начале трансляции, может быть сколько угодно и какие угодно
</Callout>

<include>../../../parts/destination.mdx</include>


# <include>../../../parts/words.mdx#permission</include>
<span><include>../../../parts/words.mdx#path</include> `permission.yml → integration.twitch`</span>


<include>../../../files/permission.yml#twitch</include>

<include>../../../parts/permission/permissionTier3.mdx</include>

<include>../../../parts/permission/sound.mdx</include>
